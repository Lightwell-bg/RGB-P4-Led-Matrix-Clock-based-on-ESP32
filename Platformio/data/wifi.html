<!DOCTYPE html>
<html>
    <head>
        <meta name = "viewport" content = "width=device-width, initial-scale=1.0">
        <meta http-equiv = "Content-type" content = "text/html; charset=utf-8">
        <title>RGB P4 Led Matrix Clock based on ESP32</title>
        <link rel="shortcut icon" href="./img/favicon.png" type="images/x-ico">
        <link rel = "stylesheet" type = "text/css" href = "/style.css">
        <script type = "text/javascript" src = "/function.js"></script>
        <script type = "text/javascript" src = "/lang_RU.js"></script>
		<script type = "text/javascript" src = "/lang_BG.js"></script>
		<script type = "text/javascript" src = "/lang_EN.js"></script>
        <script type = "text/javascript">
            function set_ssid(submit) {
                server = "/ssid?ssid=" + val('ssid') + "&password=" + encodeURIComponent(val('password'));
				server += "&ssidAP=" + encodeURIComponent(val('ssidap')) + "&passwordAP=" + encodeURIComponent(val('passwordAp'))+"&ssdp=" + encodeURIComponent(val('ssdp'));
                send_request(submit,server);
                alert("Изменения вступят в силу после перезагрузки");
            }
        </script>
    </head>
    <body onload = "load();">
        <header>
            <span class="opt_cn" id="header"></span><br>
            <span class="opt_cn" id="P_time_informer"></span>
            <span id="time">{{time}}</span><br>
			<span id="ip">IP_{{ip}}</span>
        </header>       
        <central-unit>
            <div class="menu_unit">
                <a class="link__img" href="/index.html"><span class="ico__text">Screen</span></a>			
                <a class="link__img" href="/wifi.html"><span class="ico__text">Wifi</span></a>
                <a class="link__img" href="/time.html"><span class="ico__text">Time</span></a>
                <a class="link__img" href="/setup.html"><span class="ico__text">Setup</span></a>
                <a class="link__img" href="/help.html"><span class="ico__text">Help</span></a>
                <a class="link__img" href="#"><span class="ico__text" onclick="restart(this,'Restart ESP?');">Restart</span></a>
            </div>
            <div class="body__center">
                <titles>
                    <span class="opt_cn" id="P_wifi_title"></span>
                </titles>
                <div class="informer">
                    <span class="opt_cn" id="P_wifi_informer"></span>
                </div>
                <div id="main_unit">
                    <paragraph>
                        <span class="opt_cn" id="P_wifi_setWiFi"></span>
                    </paragraph>
					<p align = "left">%LISTWIFI%</p>
                    <center>
                        <table>
                            <tr>
                                <td align = "right"><span class="opt_cn" id="P_wifi_ssid"></span></td>
                                <td><input type="text" class="field" id="ssid" value="{{ssid}}" pattern="[-\w\s#@/]{1,15}" placeholder="name WiFi network"></td>
                            </tr>
                            <tr>  
                                <td align = "right"><span class="opt_cn" id="P_wifi_password"></span></td>
                                <td><input class="field" id="password" value="{{password}}" pattern=".{6,15}" onfocus="this.type='text'" type="password"></td>
                            </tr>
                        </table>
                    </center>
                    <paragraph>
                        <span class="opt_cn" id="P_wifi_setAP"></span>
                    </paragraph>
                    <center>
                        <table>
                            <tr>
                                <td align = "right"><span class="opt_cn" id="P_wifi_ssidAP"></span></td>
                                <td><input type="text" class="field" id="ssidap" value="{{ssidAP}}" class="form-control" pattern="[-\w\s#@/]{1,15}" placeholder="access point name"></td>
                            </tr>
                            <tr>
                                <td align = "right"><span class="opt_cn" id="P_wifi_passwordAP"></span></td>  
                                <td><input class="field" id="passwordAp" value="{{passwordAP}}" class="form-control" pattern=".{0,15}" onfocus="this.type='text'" type="password" class="form-control"></td>
                            <tr>
                        </table>
                    </center>
                    <paragraph>
                        <span class="opt_cn" id="P_wifi_setSSDP"></span>
                    </paragraph>
                    <center>
                        <table>
                            <tr>
                                <td align = "right"><span class="opt_cn" id="P_wifi_ssdp"></span></td>
                                <td><input type="text" class="field" id="ssdp" value="{{SSDP}}" class="form-control" pattern="[-\w\s#@/]{1,15}" placeholder="name of SSDP"></td>
                            </tr>
                        </table>
                    </center>					
                    <span class="save_booton" id="save" onclick="set_ssid(this);"></span>
                </div>
            </div>
            <div class="menu_unit" id="langs">
                <a><span class="ico__text" onclick="set_lang_f(this, 'EN');">EN</span></a>			
                <a><span class="ico__text" onclick="set_lang_f(this, 'RU');">RU</span></a>
                <a><span class="ico__text" onclick="set_lang_f(this, 'BG');">BG</span></a>
            </div>
        </central-unit>
    </body>
</html>
